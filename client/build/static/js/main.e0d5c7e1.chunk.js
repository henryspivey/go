(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,n){e.exports=n(341)},198:function(e,t,n){},199:function(e,t,n){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(41),u=n.n(l),r=(n(198),n(199),n(200),n(355)),i=n(58),s=n(182),c=n(80),m=n(81),p=n(88),d=n(82),f=n(89),v=n(52),h=n.n(v),E=n(358),y=n(353),g=n(350),q=n(349),b=n(342),S=n(356),k=n(352),w=function(e){var t=e.question;return o.a.createElement(k.a,null,o.a.createElement(k.a.Item,null,t.question))},x=function(e){var t=e._id,n=e.questions;return o.a.createElement(y.a,{color:"purple",fluid:!0},o.a.createElement(y.a.Content,null,o.a.createElement(y.a.Meta,null,"Survey ",t),n&&n.map(function(e){return o.a.createElement(w,{question:e})})),o.a.createElement(y.a.Content,{extra:!0},o.a.createElement(b.a,{href:"/api/survey/".concat(t),color:"blue",content:"Take Survey"})))},C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).onQuestionChange=function(e){return function(t){var a=n.state.questions;a[e].question=t.target.value,n.setState({questions:a})}},n.onSubmit=function(){var e=n.state,t=e.questions,a=e.votes;h.a.post("/api/survey",{questions:t,votes:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.getSurveys()}).catch(function(e){console.log(e)}),n.setState({question:"",options:[{text:"",selected:!1}]})},n.getSurveys=function(){h.a.get("/api/survey").then(function(e){e.data?n.setState({surveys:e.data}):n.setState({surveys:[]})})},n.addQuestion=function(e){n.setState({questions:[].concat(Object(s.a)(n.state.questions),[{question:"",options:[{text:"",selected:!1}]}])})},n.addOption=function(e){var t=n.state.questions;t[e].options.push({text:"",selected:!1}),n.setState({questions:t})},n.removeOption=function(e){return function(){n.setState({options:n.state.options.filter(function(t,n){return e!==n})})}},n.handleOptionChange=function(e,t){return function(a){var o=n.state.questions,l=o[e].options.map(function(e,n){return n!==t?e:Object(i.a)({},e,{text:a.target.value})});o[e].options=l,n.setState({questions:o})}},n.state={surveys:[],questions:[{question:"",options:[{text:"",selected:!1}]}],votes:[],disabled:!1},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getSurveys()}},{key:"render",value:function(){var e=this,t=this.state,n=t.questions;t.title,t.options,t.country,t.region;return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{as:"h2"},"Survey App"),o.a.createElement(y.a,{fluid:!0},o.a.createElement(y.a.Content,null,o.a.createElement(g.a,null,o.a.createElement(g.a.Field,null,n.map(function(t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{type:"text",name:"title",onChange:e.onQuestionChange(n),value:t.question,fluid:!0,placeholder:"Enter your question",label:"Question: "}),t.options.map(function(t,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a.Field,{inline:!0,key:a,required:!0},o.a.createElement(q.a,{label:"Option # ".concat(a+1),type:"text",placeholder:"Please enter an option",onChange:e.handleOptionChange(n,a)})))}),o.a.createElement(b.a,{icon:"plus",labelPosition:"left",onClick:function(){return e.addOption(n)},content:"Add Option"}))})),o.a.createElement(b.a,{icon:"plus",labelPosition:"left",onClick:function(){return e.addQuestion()},content:"Add Question"}))),o.a.createElement(y.a.Content,{extra:!0},o.a.createElement(b.a,{color:"teal",type:"submit",onClick:this.onSubmit,content:"Submit"}))),o.a.createElement(r.a.Row,null,o.a.createElement(S.a,null,o.a.createElement(E.a,{as:"h2"},"Surveys"),o.a.createElement(y.a.Group,null,0===this.state.surveys.length?o.a.createElement(E.a,null,"No surveys yet"):this.state.surveys.map(function(e,t){return o.a.createElement(x,Object.assign({key:e._id},e))})))))}}]),t}(a.Component),O=n(79),j=(n(339),n(354),[{key:"be",flag:"be",text:"Belgium",value:"Belgium"},{key:"fr",flag:"fr",text:"France",value:"France"},{key:"it",flag:"it",text:"Italy",value:"Italy"},{key:"us",flag:"us",text:"United States",value:"United States"},{key:"nl",flag:"nl",text:"Netherlands",value:"Netherlands"}]),F=n(59),Q=n(351),B=(a.Component,n(178)),I=n(36);var A=function(){return o.a.createElement(r.a,{padded:!0},o.a.createElement(r.a.Row,null,o.a.createElement(r.a.Column,null,o.a.createElement(B.a,null,o.a.createElement(I.c,null,o.a.createElement(I.a,{path:"/",exact:!0,component:C}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[193,1,2]]]);
//# sourceMappingURL=main.e0d5c7e1.chunk.js.map
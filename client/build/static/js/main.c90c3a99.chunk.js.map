{"version":3,"sources":["QuestionBuilder.jsx","SurveyCard.jsx","SurveyApp.jsx","countries.js","Survey.jsx","App.js","serviceWorker.js","index.js"],"names":["QuestionBuilder","props","question","react_default","a","createElement","List","Item","SurveyCard","_id","questions","Card","color","fluid","Content","Meta","map","src_QuestionBuilder","extra","Button","href","concat","content","SurveyApp","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onQuestionChange","idx","e","state","target","value","setState","onSubmit","_this$state","votes","axios","post","headers","Content-Type","then","res","getSurveys","catch","error","console","log","options","text","selected","get","data","surveys","addQuestion","toConsumableArray","addOption","push","removeOption","filter","s","sidx","handleOptionChange","optionIdx","newOptions","option","i","objectSpread","disabled","_this2","_this$state2","title","country","region","Fragment","Header","as","Form","Field","Input","type","name","onChange","placeholder","label","inline","key","required","icon","labelPosition","onClick","Grid","Row","Segment","Group","length","item","index","src_SurveyCard","assign","Component","countryOptions","flag","Survey","id","match","params","age","email","parseInt","voted","response","reduce","responses","handleRadioChange","_ref","checked","handleInputChange","defineProperty","selectCountry","getSurvey","loading","statistics","textAlign","dividing","sub","Label","Dropdown","selection","widths","App","padded","Column","react_router_dom","react_router","exact","path","component","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c90c3a99.chunk.js","sourcesContent":["import React from 'react'\nimport {Card, List} from \"semantic-ui-react\";\n\n\nconst QuestionBuilder = props => {\n\tconst {question} = props;\t\n\treturn (\n\t\t<List>\n\t    <List.Item>\t    \t\n\t\t\t\t\t{question.question}\n\t\t\t</List.Item>\n\t  </List>\n\t\t\n\t)\n\n}\n\nexport default QuestionBuilder;","import React from \"react\";\nimport {\n\tCard,\t\n\tButton,\n\tList\n\n} from \"semantic-ui-react\";\nimport QuestionBuilder from './QuestionBuilder';\n\nconst SurveyCard = props => {\n\tconst {_id, questions} = props;\t\n\treturn (\n\t\t<Card  color=\"purple\" fluid>\n\t\t\t<Card.Content>\n\t\t\t<Card.Meta>Survey {_id}</Card.Meta>\n\t\t\t{questions && questions.map((question) => (\n\t\t\t\t<QuestionBuilder question={question} />\n\t\t\t\t\n\t\t\t\t))}\t\t\t\t\n\t\t\t</Card.Content>\n\t\t\t<Card.Content extra>\n\t\t\t\t<Button href={`/survey/${_id}`} color=\"blue\" content=\"Take Survey\" />\n\t\t\t</Card.Content>\n\t\t</Card>\n\t);\n};\n\n\nexport default SurveyCard;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n\tCard,\r\n\tHeader,\r\n\tForm,\r\n\tLabel,\r\n\tSegment,\r\n\tGrid,\r\n\tButton,\r\n\tInput\r\n} from \"semantic-ui-react\";\r\nimport SurveyCard from \"./SurveyCard\";\r\n\r\nclass SurveyApp extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\t\t\t\r\n\t\t\tsurveys: [],\r\n\t\t\tquestions: [{ question: \"\", options: [{ text: \"\", selected: false }]}],\t\t\r\n\t\t\tvotes: [],\t\t\t\t\r\n\t\t\tdisabled: false\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getSurveys();\r\n\t}\r\n\r\n\tonQuestionChange = (idx) => e => {\r\n\t\tconst questions = this.state.questions;\r\n\r\n\t\tquestions[idx].question = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\tquestions\r\n\t\t});\r\n\t};\r\n\r\n\tonSubmit = () => {\r\n\t\tlet { questions, votes } = this.state;\r\n\t\t// const optionsText = options.map(option => option.text);\r\n\t\t// const votes = Array.from({ length: options.length }, () => 0);\r\n\t\taxios\r\n\t\t\t.post(\r\n\t\t\t\t\"/api/survey\",\r\n\t\t\t\t{\r\n\t\t\t\t\tquestions,\r\n\t\t\t\t\tvotes\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then(res => {\t\t\t\t\r\n\t\t\t\tthis.getSurveys();\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t\tthis.setState({ question: \"\", options: [{ text: \"\", selected: false }] });\r\n\t};\r\n\r\n\tgetSurveys = () => {\t\t\r\n\t\taxios.get(\"/api/survey\").then(res => {\r\n\t\t\tconst data = res.data;\r\n\t\t\tif (data) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsurveys: res.data\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsurveys: []\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\taddQuestion = e => {\r\n\t\tthis.setState({\r\n\t\t\tquestions: [\r\n\t\t\t\t...this.state.questions,\r\n\t\t\t\t{ question: \"\", options: [{ text: \"\", selected: false }] }\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\r\n\taddOption = e => {\r\n\t\tconst { questions } = this.state;\r\n\t\tconst questionIdx = e;\r\n\t\tquestions[questionIdx].options.push({ text: \"\", selected: false });\r\n\t\tthis.setState({ questions: questions });\r\n\t};\r\n\r\n\tremoveOption = idx => () => {\r\n\t\tthis.setState({\r\n\t\t\toptions: this.state.options.filter((s, sidx) => idx !== sidx)\r\n\t\t});\r\n\t};\r\n\r\n\thandleOptionChange = (idx, optionIdx) => e => {\r\n\t\tconst questions = this.state.questions;\r\n\r\n\t\tconst newOptions = questions[idx].options.map((option, i) => {\r\n\t\t\tif (i !== optionIdx) return option;\r\n\t\t\treturn { ...option, text: e.target.value };\r\n\t\t});\r\n\t\tquestions[idx].options = newOptions;\r\n\t\tthis.setState({ questions });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { questions, title, options, country, region } = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header as=\"h2\">Survey App</Header>\r\n\t\t\t\t<Card fluid>\r\n\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t{questions.map((question, i) => (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onQuestionChange(i)}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={question.question}\r\n\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your question\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Question: \"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{question.options.map((option, optionIdx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Field inline key={optionIdx} required>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={`Option # ${optionIdx + 1}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Please enter an option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleOptionChange(i, optionIdx)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.addOption(i)}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent=\"Add Option\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\tlabelPosition=\"left\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.addQuestion()}\r\n\t\t\t\t\t\t\t\tcontent=\"Add Question\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Card.Content>\r\n\r\n\t\t\t\t\t<Card.Content extra>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"teal\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tonClick={this.onSubmit}\r\n\t\t\t\t\t\t\tcontent=\"Submit\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card.Content>\r\n\t\t\t\t</Card>\r\n\r\n\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t<Segment>\r\n\t\t\t\t\t\t<Header as=\"h2\">Surveys</Header>\r\n\t\t\t\t\t\t<Card.Group>\r\n\t\t\t\t\t\t\t{this.state.surveys.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Header>No surveys yet</Header>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tthis.state.surveys.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t<SurveyCard key={item._id} {...item} />\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card.Group>\r\n\t\t\t\t\t</Segment>\r\n\t\t\t\t</Grid.Row>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SurveyApp;\r\n","const countryOptions = [\n  { key: 'be', flag: 'be', text: 'Belgium', value: 'Belgium' },\n  { key: 'fr', flag: 'fr', text: 'France', value: 'France' },\n  { key: 'it', flag: 'it', text: 'Italy', value: 'Italy' },\n  { key: 'us', flag: 'us', text: 'United States', value: 'United States' },\n  { key: 'nl', flag: 'nl', text: 'Netherlands', value: 'Netherlands' }  \n];\n\nexport default countryOptions;\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n\tCountryDropdown,\n\tRegionDropdown,\n\tCountryRegionData\n} from \"react-country-region-selector\";\nimport VoteStatistics from \"./VoteStatistics\";\nimport countryOptions from \"./countries\";\nimport {\n\tForm,\n\tRadio,\n\tStatistic,\n\tHeader,\n\tContainer,\n\tCard,\n\tGrid,\n\tLabel,\n\tDropdown,\n\tButton,\n\tInput\n} from \"semantic-ui-react\";\n\nexport default class Survey extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\tstatistics: [],\n\t\t\tcountry: \"\",\n\t\t\tage: 0,\n\t\t\temail: \"\",\n\t\t\tquestions: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { id } = this.props.match.params;\n\t\tif (id) {\n\t\t\tthis.getSurvey(id);\n\t\t}\n\t}\n\n\n\tonSubmit = () => {\n\t\tconst { id } = this.props.match.params;\n\t\tlet { age } = this.state;\n\t\tconst { country, email, questions } = this.state;\n\t\tage = parseInt(age);\n\t\t\n\t\tconst voted = questions.map(question => {\t\t\t\n\t\t\treturn {\n\t\t\t\tquestion: `${question.question}`, \n\t\t\t\tresponse: question.options.filter(option => option.selected === true).reduce(option => option.text)\n\t\t\t};\n\t\t})\n\n\n\t\tconsole.log(voted)\n\t\t\n\t\taxios\n\t\t\t.post(\n\t\t\t\t`/api/survey/${id}/vote`,\n\t\t\t\t{\n\t\t\t\t\temail,\n\t\t\t\t\tcountry,\n\t\t\t\t\tage,\n\t\t\t\t\tresponses: voted\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\t\n\t\t\t\tconsole.log(response.data);\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\n\t};\n\n\thandleRadioChange = ({ target }) => {\n\t\tconst questions = this.state.questions;\n\t\tconst newOptions = questions.map((question, i) => {\n\t\t\tif (question.question !== target.name) return question;\n\t\t\treturn {\n\t\t\t\t...question,\n\t\t\t\toptions: question.options.map(option => {\n\t\t\t\t\tconst checked = option.text === target.value;\n\t\t\t\t\treturn { ...option, selected: checked };\n\t\t\t\t})\n\t\t\t};\n\t\t});\n\n\t\tthis.setState({ questions: newOptions });\n\t};\n\n\thandleInputChange = e => {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t};\n\n\tselectCountry = (e, data) =>{\t\t\n\t\tthis.setState({ country: data.value });\n\t};\n\n\tgetSurvey = id => {\n\t\taxios\n\t\t\t.get(`/api/survey/${id}`)\n\t\t\t.then(response => {\n\t\t\t\tconst { questions } = response.data;\n\t\t\t\tthis.setState({\n\t\t\t\t\tquestions,\n\t\t\t\t\tloading: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\n\n\trender() {\n\t\tif (!this.state.loading) {\n\t\t\tconst { questions, statistics, country, age, email } = this.state;\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Card fluid>\n\t\t\t\t\t\t<Card.Content>\n\t\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\n\t\t\t\t\t\t\t\t{questions.map((question, i) => (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Header as=\"h2\" textAlign=\"left\" dividing>\n\t\t\t\t\t\t\t\t\t\t\t{question.question}\n\t\t\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t\t\t\t{question.options &&\n\t\t\t\t\t\t\t\t\t\t\tquestion.options.map((option, optionIdx) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Header sub textAlign=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option.text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={question.question}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option.text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={option.selected}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleRadioChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t<Label>Choose your country</Label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Country\"\n\t\t\t\t\t\t\t\t\t\tfluid\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t\t\t\t\toptions={countryOptions}\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tonChange={this.selectCountry}\n\t\t\t\t\t\t\t\t\t\tvalue={country}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t<Form.Group widths=\"equal\">\n\t\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"age\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={age}\n\t\t\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"What is your age?\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"What is your email?\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Button type=\"submit\" content=\"Vote\" />\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card.Content>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <p>Loading ... </p>;\n\t\t}\n\t}\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport 'semantic-ui-css/semantic.min.css';\nimport { Container, Grid } from \"semantic-ui-react\";\nimport SurveyApp from \"./SurveyApp\";\nimport Survey from './Survey';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nfunction App() {\n  return (    \n    <Grid padded>\n    \t<Grid.Row>\n    \t<Grid.Column>\t      \n        <Router>\n\t        <Switch>\n\t          <Route exact path='/' component={SurveyApp} />\n\t          <Route path='/survey/:id' component={Survey} />\n\t        </Switch>\n      \t</Router>  \n      </Grid.Column>\t    \n      </Grid.Row>      \n    </Grid>    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}